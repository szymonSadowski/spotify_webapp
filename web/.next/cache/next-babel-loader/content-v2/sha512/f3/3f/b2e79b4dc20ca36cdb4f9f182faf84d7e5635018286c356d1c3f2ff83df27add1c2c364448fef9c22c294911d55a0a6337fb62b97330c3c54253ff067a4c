{"ast":null,"code":"import { useState, useEffect } from \"react\";\nexport const useFetch = tokenCode => {\n  console.log(tokenCode);\n  const {\n    0: data,\n    1: setData\n  } = useState({});\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  useEffect(() => {\n    const fetchdata = async () => {\n      const response = await fetch(`http://localhost:8080/podcast?access_token=${tokenCode}`);\n      const dataResponse = await response.json(); // const item = dataResponse.results[0];\n\n      const myData = Object.keys(dataResponse).map(key => {\n        return dataResponse[key];\n      }); // console.log(myData[0].show.id)\n\n      const idData = myData.map(data => {\n        return data.show.id;\n      });\n      console.log(idData, 'idData');\n      setData(idData);\n      console.log(dataResponse);\n    };\n\n    fetchdata();\n  }, [tokenCode]);\n  return {\n    data,\n    loading\n  };\n};","map":{"version":3,"sources":["C:/Users/szymo/gitRepo/spotify_webapp/web/src/utils/useFetch.ts"],"names":["useState","useEffect","useFetch","tokenCode","console","log","data","setData","loading","setLoading","fetchdata","response","fetch","dataResponse","json","myData","Object","keys","map","key","idData","show","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,SAAD,IAAuB;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,QAAM;AAAA,OAACG,IAAD;AAAA,OAAOC;AAAP,MAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACQ,OAAD;AAAA,OAAUC;AAAV,MAAwBT,QAAQ,CAAC,IAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,SAAS,GAAG,YAAY;AAC5B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,8CAA6CT,SAAU,EAD9B,CAA5B;AAGA,YAAMU,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B,CAJ4B,CAK5B;;AACA,YAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYJ,YAAZ,EAA0BK,GAA1B,CAA8BC,GAAG,IAAI;AAClD,eAAON,YAAY,CAACM,GAAD,CAAnB;AACD,OAFc,CAAf,CAN4B,CAS5B;;AACA,YAAMC,MAAM,GAAGL,MAAM,CAACG,GAAP,CAAWZ,IAAI,IAAI;AAChC,eAAOA,IAAI,CAACe,IAAL,CAAUC,EAAjB;AACD,OAFc,CAAf;AAGAlB,MAAAA,OAAO,CAACC,GAAR,CAAYe,MAAZ,EAAoB,QAApB;AACAb,MAAAA,OAAO,CAACa,MAAD,CAAP;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYQ,YAAZ;AACD,KAhBD;;AAiBAH,IAAAA,SAAS;AACV,GAnBQ,EAmBN,CAACP,SAAD,CAnBM,CAAT;AAoBA,SAAO;AAAEG,IAAAA,IAAF;AAAQE,IAAAA;AAAR,GAAP;AACD,CAzBI","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport const useFetch = (tokenCode: string) => {\r\n    console.log(tokenCode);\r\n    const [data, setData] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    useEffect(() => {\r\n      const fetchdata = async () => {\r\n        const response = await fetch(\r\n          `http://localhost:8080/podcast?access_token=${tokenCode}`\r\n        );\r\n        const dataResponse = await response.json();\r\n        // const item = dataResponse.results[0];\r\n        const myData = Object.keys(dataResponse).map(key => {\r\n          return dataResponse[key];\r\n        });\r\n        // console.log(myData[0].show.id)\r\n        const idData = myData.map(data => {\r\n          return data.show.id as string;\r\n        })\r\n        console.log(idData, 'idData')\r\n        setData(idData);\r\n        console.log(dataResponse);\r\n      };\r\n      fetchdata();\r\n    }, [tokenCode]);\r\n    return { data, loading };\r\n  };"]},"metadata":{},"sourceType":"module"}